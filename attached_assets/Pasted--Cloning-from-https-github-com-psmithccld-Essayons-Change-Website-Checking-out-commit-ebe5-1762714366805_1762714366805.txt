==> Cloning from https://github.com/psmithccld/Essayons_Change_Website
==> Checking out commit ebe5f47513267d2e15da7e8e71d47d005da9f8b1 in branch main
==> Requesting Node.js version 20.x
==> Using Node.js version 20.19.5 via /opt/render/project/src/package.json
==> Docs on specifying a Node.js version: https://render.com/docs/node-version
==> Running build command 'NPM_CONFIG_PRODUCTION=false npm ci && npm run build'...
added 490 packages, and audited 493 packages in 12s
81 packages are looking for funding
  run `npm fund` for details
2 moderate severity vulnerabilities
To address all issues (including breaking changes), run:
  npm audit fix --force
Run `npm audit` for details.
> build
> npm run build --workspaces
> essayons-client@0.1.0 build
> vite build
vite v5.4.21 building for production...
transforming...
A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
âœ“ 2113 modules transformed.
rendering chunks...
computing gzip size...
dist/index.html                                                  0.99 kB â”‚ gzip:   0.53 kB
dist/assets/image_1758211685824_1761593188026-DL5lyzk2.png      47.03 kB
dist/assets/image_1761599761478-DRXnfJw4.png                   124.37 kB
dist/assets/image_1761599774749-YDido6yA.png                   133.27 kB
dist/assets/image_1761599788619-BgbCpq9p.png                   133.41 kB
dist/assets/image_1761599726140-CiC7YoiS.png                   151.01 kB
dist/assets/image_1762711078959-dLp_jEFS.png                   197.32 kB
dist/assets/image_1761593182537-DmnXT2It.png                   228.78 kB
dist/assets/Author Picture_1761601756882-BP-KIHxd.jpg        4,119.14 kB
dist/assets/image_1761605800665-DNU_jyZa.png                20,131.70 kB
dist/assets/index-X052vkmH.css                                  57.14 kB â”‚ gzip:  10.29 kB
dist/assets/index-VYIqXIKB.js                                  560.86 kB â”‚ gzip: 175.51 kB
(!) Some chunks are larger than 500 kB after minification. Consider:
- Using dynamic import() to code-split the application
- Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
- Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
âœ“ built in 5.04s
> essayons-server@0.1.0 build
> esbuild src/index.ts --bundle --platform=node --external:*.css --outfile=dist/index.cjs --format=cjs
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    storage.ts:21:21:
      21 â”‚   const drizzleOrm = await import("drizzle-orm");
         â•µ                      ~~~~~
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    storage.ts:188:33:
      188 â”‚ export const storage: IStorage = await createStorage();
          â•µ                                  ~~~~~
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    db.ts:8:33:
      8 â”‚     const { Pool, neonConfig } = await import('@neondatabase/server...
        â•µ                                  ~~~~~
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    db.ts:9:24:
      9 â”‚     const { drizzle } = await import('drizzle-orm/neon-serverless');
        â•µ                         ~~~~~
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    db.ts:10:15:
      10 â”‚     const ws = await import("ws");
         â•µ                ~~~~~
âœ˜ [ERROR] Top-level await is currently not supported with the "cjs" output format
    db.ts:11:19:
      11 â”‚     const schema = await import("../shared/schema");
         â•µ                    ~~~~~
6 of 9 errors shown (disable the message limit with --log-limit=0)
npm error Lifecycle script `build` failed with error:
npm error code 1
npm error path /opt/render/project/src/server
npm error workspace essayons-server@0.1.0
npm error location /opt/render/project/src/server
npm error command failed
npm error command sh -c esbuild src/index.ts --bundle --platform=node --external:*.css --outfile=dist/index.cjs --format=cjs
==> Build failed ğŸ˜